import{a as F,c as O,d as g,e as V,f as z,g as D,h as G}from"./chunk-KH227EWI.js";import{a as h}from"./chunk-KNWLJMAU.js";import{b as H}from"./chunk-F3VP2UVQ.js";import{$a as _,Hb as B,Ia as s,Jb as R,Ka as c,Kb as M,Mb as j,Na as i,Oa as n,Pa as l,Qa as L,Ra as E,Sa as w,Ta as S,U as v,Ua as u,Va as T,Z as b,_a as r,ba as k,ga as A,gb as $,ha as I,ib as P,kb as a,lb as p,q as C,va as o,wa as x}from"./chunk-HYWXXBXQ.js";function N(e){return()=>{let m=v(h),t=v(g);return m.isLoggedIn().pipe(C(d=>{if(!d)return t.navigate(["/login"]),!1;if(e){let f=!1;if(m.getRole().subscribe(y=>{Array.isArray(e)?f=e.includes(y):f=y===e}),!f)return t.navigate(["/login"]),!1}return!0}))}}var U=[{path:"employee",children:[{path:"",loadComponent:()=>import("./chunk-D4PZWBZZ.js").then(e=>e.EmployeeListComponent)},{path:"create",loadComponent:()=>import("./chunk-LJDE7BDD.js").then(e=>e.EmployeeFormComponent)},{path:"edit/:id",loadComponent:()=>import("./chunk-LJDE7BDD.js").then(e=>e.EmployeeFormComponent)},{path:"profile/:id",loadComponent:()=>import("./chunk-7NTK7AQD.js").then(e=>e.EmployeeProfileComponent)}]},{path:"leave",loadComponent:()=>import("./chunk-NC4LNNRK.js").then(e=>e.LeaveListComponent)},{path:"payroll",children:[{path:"",loadComponent:()=>import("./chunk-XSEV27EQ.js").then(e=>e.PayrollListComponent)},{path:"payslip/:id",loadComponent:()=>import("./chunk-AZOXYDZ2.js").then(e=>e.PayslipComponent)}]},{path:"tasks",loadComponent:()=>import("./chunk-2Z2R4BL3.js").then(e=>e.TaskListComponent)},{path:"profile",loadComponent:()=>import("./chunk-PKIQCDFG.js").then(e=>e.UserProfileComponent),canActivate:[N(["Admin","HR","Employee"])]},{path:"login",loadComponent:()=>import("./chunk-PXAP3YHM.js").then(e=>e.LoginComponent)},{path:"",redirectTo:"employee",pathMatch:"full"},{path:"**",redirectTo:"employee"}];var W={providers:[D(U),k(H)]};var K=e=>({"justify-content-center align-items-center":e});function Q(e,m){e&1&&(i(0,"li",25)(1,"a",26),l(2,"i",27),r(3," Payroll "),n()())}function X(e,m){e&1&&(i(0,"li",25)(1,"a",28),l(2,"i",29),r(3," Tasks "),n()())}function Y(e,m){e&1&&(i(0,"li",25)(1,"a",30),l(2,"i",31),r(3," Employees "),n()())}function Z(e,m){e&1&&(i(0,"li",25)(1,"a",32),l(2,"i",33),r(3," Leave "),n()())}function q(e,m){e&1&&(i(0,"li",25)(1,"a",30),l(2,"i",31),r(3," Employees "),n()())}function ee(e,m){e&1&&(i(0,"li",25)(1,"a",28),l(2,"i",29),r(3," Tasks "),n()())}function te(e,m){e&1&&(i(0,"li",25)(1,"a",32),l(2,"i",33),r(3," Leave "),n()())}function ie(e,m){if(e&1&&(i(0,"li",25)(1,"a",34),l(2,"i",18),r(3," My Info "),n()()),e&2){let t=u(2);o(),T("routerLink","/employee/profile/",t.userId,"")}}function ne(e,m){if(e&1){let t=w();L(0),i(1,"nav",8)(2,"div",9)(3,"a",10),l(4,"i",11),r(5," HR ERP "),n()(),i(6,"ul",12),s(7,Q,4,0,"li",13),a(8,"async"),s(9,X,4,0,"li",13),a(10,"async"),a(11,"async"),a(12,"async"),s(13,Y,4,0,"li",13),a(14,"async"),s(15,Z,4,0,"li",13),a(16,"async"),s(17,q,4,0,"li",13),a(18,"async"),s(19,ee,4,0,"li",13),a(20,"async"),s(21,te,4,0,"li",13),a(22,"async"),s(23,ie,4,2,"li",13),a(24,"async"),n(),i(25,"div",14)(26,"ul",15)(27,"li",16)(28,"a",17),l(29,"i",18),r(30," Profile "),n()()(),i(31,"div",19)(32,"div",20),l(33,"i",21),i(34,"span",22),r(35),a(36,"async"),n()(),i(37,"button",23),S("click",function(){A(t);let f=u();return I(f.logout())}),l(38,"i",24),r(39," Logout "),n()()()(),E()}if(e&2){let t=u();o(7),c("ngIf",p(8,9,t.role$)==="Admin"),o(2),c("ngIf",p(10,11,t.role$)==="Admin"||p(11,13,t.role$)==="HR"||p(12,15,t.role$)==="Employee"),o(4),c("ngIf",p(14,17,t.role$)==="HR"),o(2),c("ngIf",p(16,19,t.role$)==="HR"),o(2),c("ngIf",p(18,21,t.role$)==="ProjectManager"),o(2),c("ngIf",p(20,23,t.role$)==="ProjectManager"),o(2),c("ngIf",p(22,25,t.role$)==="ProjectManager"),o(2),c("ngIf",p(24,27,t.role$)==="Employee"),o(12),_(p(36,29,t.role$))}}function oe(e,m){if(e&1&&(i(0,"span",35),r(1),n()),e&2){let t=m.ngIf;o(),_(t)}}var J=(()=>{class e{constructor(t,d){this.auth=t,this.router=d,this.title="hr-erp",this.isLoggedIn$=this.auth.isLoggedIn(),this.role$=this.auth.getRole(),this.userId=this.auth.getUserId()}logout(){this.auth.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(d){return new(d||e)(x(h),x(g))}}static{this.\u0275cmp=b({type:e,selectors:[["app-root"]],standalone:!0,features:[$],decls:13,vars:11,consts:[[1,"d-flex","min-vh-100"],[4,"ngIf"],[1,"flex-grow-1","bg-light","d-flex","flex-column"],[1,"navbar","navbar-light","bg-white","shadow-sm","px-4","py-2",2,"min-height","56px"],[1,"container-fluid","justify-content-end"],[1,"navbar-text","fw-semibold","text-secondary"],["class","badge bg-primary ms-2",4,"ngIf"],[1,"container","flex-grow-1","d-flex","flex-column","justify-content-center","align-items-center",3,"ngClass"],[1,"sidebar","bg-white","shadow-sm","d-flex","flex-column","align-items-center","py-4","px-2",2,"width","220px","min-width","220px"],[1,"mb-4"],["href","#",1,"navbar-brand","fs-4","fw-bold","text-primary","d-flex","align-items-center"],[1,"fas","fa-cubes","me-2"],[1,"nav","flex-column","w-100"],["class","nav-item mb-2",4,"ngIf"],[1,"mt-auto","w-100"],[1,"nav","flex-column","w-100","mb-2"],[1,"nav-item"],["routerLink","/profile","routerLinkActive","active",1,"nav-link","d-flex","align-items-center"],[1,"fas","fa-user","me-2"],[1,"border-top","pt-3"],[1,"d-flex","align-items-center"],[1,"fas","fa-user-circle","fa-lg","me-2","text-secondary"],[1,"fw-semibold"],[1,"btn","btn-outline-secondary","btn-sm","w-100","mt-3",3,"click"],[1,"fas","fa-sign-out-alt","me-1"],[1,"nav-item","mb-2"],["routerLink","/payroll","routerLinkActive","active",1,"nav-link","d-flex","align-items-center"],[1,"fas","fa-money-check-alt","me-2"],["routerLink","/tasks","routerLinkActive","active",1,"nav-link","d-flex","align-items-center"],[1,"fas","fa-clipboard-list","me-2"],["routerLink","/employee","routerLinkActive","active",1,"nav-link","d-flex","align-items-center"],[1,"fas","fa-users","me-2"],["routerLink","/leave","routerLinkActive","active",1,"nav-link","d-flex","align-items-center"],[1,"fas","fa-calendar-alt","me-2"],["routerLinkActive","active",1,"nav-link","d-flex","align-items-center",3,"routerLink"],[1,"badge","bg-primary","ms-2"]],template:function(d,f){d&1&&(i(0,"div",0),s(1,ne,40,31,"ng-container",1),a(2,"async"),i(3,"div",2)(4,"nav",3)(5,"div",4)(6,"span",5),r(7," Welcome to HR ERP "),s(8,oe,2,1,"span",6),a(9,"async"),n()()(),i(10,"div",7),a(11,"async"),l(12,"router-outlet"),n()()()),d&2&&(o(),c("ngIf",p(2,3,f.isLoggedIn$)),o(7),c("ngIf",p(9,5,f.role$)),o(2),c("ngClass",P(9,K,!p(11,7,f.isLoggedIn$))))},dependencies:[j,B,R,M,G,O,V,z],styles:[".sidebar[_ngcontent-%COMP%]{position:sticky;top:0;height:100vh;min-height:100vh;max-height:100vh;width:220px;min-width:220px;max-width:220px;overflow:hidden;flex-shrink:0;box-sizing:border-box;z-index:101}.flex-grow-1[_ngcontent-%COMP%]{overflow-y:auto}"]})}}return e})();F(J,W).catch(e=>console.error(e));
