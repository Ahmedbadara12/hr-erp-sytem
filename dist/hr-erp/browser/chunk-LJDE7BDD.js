import{b as F,d as I,e as N,h as w}from"./chunk-KH227EWI.js";import{a as D}from"./chunk-BDNCTEIP.js";import{a as V,b as f,c as M,d as T,g as B,h as k,i as P,n as G,p as O}from"./chunk-IQAMYAZ6.js";import"./chunk-F3VP2UVQ.js";import{Ia as p,Jb as _,Ka as d,Mb as C,Na as t,Oa as e,Pa as l,Sa as h,Ta as b,Ua as c,Z as E,_a as i,ab as x,ga as y,gb as g,ha as v,hb as S,va as a,wa as s}from"./chunk-HYWXXBXQ.js";var j=()=>["/employee"];function q(m,u){m&1&&(t(0,"div",32),i(1," Name is required. "),e())}function A(m,u){m&1&&(t(0,"div",32),i(1," Valid email is required. "),e())}function L(m,u){if(m&1){let r=h();t(0,"form",11),b("ngSubmit",function(){y(r);let o=c();return v(o.onSubmit())}),t(1,"div",12)(2,"label",13),i(3,"Name"),e(),l(4,"input",14),p(5,q,2,0,"div",15),e(),t(6,"div",12)(7,"label",16),i(8,"Email"),e(),l(9,"input",17),p(10,A,2,0,"div",15),e(),t(11,"div",12)(12,"label",18),i(13,"Position"),e(),l(14,"input",19),e(),t(15,"div",12)(16,"label",20),i(17,"Department"),e(),l(18,"input",21),e(),t(19,"div",12)(20,"label",22),i(21,"Phone"),e(),l(22,"input",23),e(),t(23,"div",12)(24,"label",24),i(25,"Address"),e(),l(26,"input",25),e(),t(27,"div",12)(28,"label",26),i(29,"Date of Birth"),e(),l(30,"input",27),e(),t(31,"div",12)(32,"label",28),i(33,"Hire Date"),e(),l(34,"input",29),e(),t(35,"button",30),i(36," Save "),e(),t(37,"a",31),i(38,"Cancel"),e()()}if(m&2){let r,n,o=c();d("formGroup",o.employeeForm),a(5),d("ngIf",((r=o.employeeForm.get("name"))==null?null:r.invalid)&&((r=o.employeeForm.get("name"))==null?null:r.touched)),a(5),d("ngIf",((n=o.employeeForm.get("email"))==null?null:n.invalid)&&((n=o.employeeForm.get("email"))==null?null:n.touched)),a(25),d("disabled",o.employeeForm.invalid),a(2),d("routerLink",S(5,j))}}function H(m,u){if(m&1){let r=h();t(0,"div",33)(1,"div"),i(2,"Employee saved successfully!"),e(),t(3,"button",34),b("click",function(){y(r);let o=c();return v(o.goToProfile())}),i(4," Next: Complete Profile "),e()()}}var Z=(()=>{class m{constructor(r,n,o,R){this.fb=r,this.route=n,this.router=o,this.employeeService=R,this.isEditMode=!1,this.showSuccess=!1,this.employeeForm=this.fb.group({name:["",f.required],email:["",[f.required,f.email]],position:[""],department:[""],phone:[""],address:[""],dateOfBirth:[""],hireDate:[""]})}ngOnInit(){this.route.paramMap.subscribe(r=>{let n=r.get("id");n&&(this.isEditMode=!0,this.employeeId=+n,this.employeeService.getEmployeeById(this.employeeId).subscribe(o=>{o&&this.employeeForm.patchValue(o)}))})}onSubmit(){if(this.employeeForm.valid){let r=this.employeeForm.value;this.isEditMode&&this.employeeId!=null?this.employeeService.updateEmployee(this.employeeId,r).subscribe(()=>{this.showSuccess=!0,setTimeout(()=>{this.router.navigate(["/employee"])},1e3)}):this.employeeService.addEmployee(r).subscribe(n=>{this.showSuccess=!0,this.newEmployeeId=n.id})}}goToProfile(){this.newEmployeeId?this.router.navigate(["/employee","profile",this.newEmployeeId]):this.router.navigate(["/employee"])}static{this.\u0275fac=function(n){return new(n||m)(s(G),s(F),s(I),s(D))}}static{this.\u0275cmp=E({type:m,selectors:[["app-employee-form"]],standalone:!0,features:[g],decls:18,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"mb-4","d-flex","align-items-center"],[1,"badge","bg-primary","me-2"],[1,"fw-bold"],[1,"mx-2"],[1,"badge","bg-secondary","me-2"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","alert alert-success mt-3 d-flex flex-column align-items-center",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","email",1,"form-label"],["id","email","formControlName","email",1,"form-control"],["for","position",1,"form-label"],["id","position","formControlName","position",1,"form-control"],["for","department",1,"form-label"],["id","department","formControlName","department",1,"form-control"],["for","phone",1,"form-label"],["id","phone","formControlName","phone",1,"form-control"],["for","address",1,"form-label"],["id","address","formControlName","address",1,"form-control"],["for","dateOfBirth",1,"form-label"],["id","dateOfBirth","type","date","formControlName","dateOfBirth",1,"form-control"],["for","hireDate",1,"form-label"],["id","hireDate","type","date","formControlName","hireDate",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary","ms-2",3,"routerLink"],[1,"text-danger"],[1,"alert","alert-success","mt-3","d-flex","flex-column","align-items-center"],[1,"btn","btn-primary","mt-3",3,"click"]],template:function(n,o){n&1&&(t(0,"div",0)(1,"div",1)(2,"h5",2),i(3),e()(),t(4,"div",3)(5,"div",4)(6,"div",5),i(7,"1"),e(),t(8,"span",6),i(9,"Basic Info"),e(),t(10,"span",7),i(11,"\u2192"),e(),t(12,"div",8),i(13,"2"),e(),t(14,"span"),i(15,"Profile"),e()(),p(16,L,39,6,"form",9)(17,H,5,0,"div",10),e()()),n&2&&(a(3),x("",o.isEditMode?"Edit":"Create"," Employee"),a(13),d("ngIf",!o.showSuccess),a(),d("ngIf",o.showSuccess))},dependencies:[C,_,O,B,V,M,T,k,P,w,N],encapsulation:2})}}return m})();export{Z as EmployeeFormComponent};
