import './polyfills.server.mjs';
import{a as h}from"./chunk-WPGESVMD.mjs";import{b as j,d as H,f as g,g as F,h as O,i as V,j as z}from"./chunk-ZO3XRBHL.mjs";import"./chunk-QZINOH6A.mjs";import{Fa as s,Ha as c,Ka as i,Kb as B,La as n,Ma as l,Mb as P,Na as I,Nb as R,Oa as L,Pa as E,Pb as M,Q as v,Qa as w,Ra as u,Sa as S,V as b,Xa as a,Ya as _,ba as k,ca as A,db as T,fb as $,hb as r,ib as p,m as C,sa as o,ta as x}from"./chunk-NYGW72DG.mjs";import"./chunk-HWMLVLB2.mjs";var W=e=>({"justify-content-center align-items-center":e});function J(e,m){e&1&&(i(0,"li",25)(1,"a",26),l(2,"i",27),a(3," Payroll "),n()())}function K(e,m){e&1&&(i(0,"li",25)(1,"a",28),l(2,"i",29),a(3," Tasks "),n()())}function Q(e,m){e&1&&(i(0,"li",25)(1,"a",30),l(2,"i",31),a(3," Employees "),n()())}function X(e,m){e&1&&(i(0,"li",25)(1,"a",32),l(2,"i",33),a(3," Leave "),n()())}function Y(e,m){e&1&&(i(0,"li",25)(1,"a",30),l(2,"i",31),a(3," Employees "),n()())}function Z(e,m){e&1&&(i(0,"li",25)(1,"a",28),l(2,"i",29),a(3," Tasks "),n()())}function q(e,m){e&1&&(i(0,"li",25)(1,"a",32),l(2,"i",33),a(3," Leave "),n()())}function ee(e,m){if(e&1&&(i(0,"li",25)(1,"a",34),l(2,"i",18),a(3," My Info "),n()()),e&2){let t=u(2);o(),S("routerLink","/employee/profile/",t.userId,"")}}function te(e,m){if(e&1){let t=E();I(0),i(1,"nav",8)(2,"div",9)(3,"a",10),l(4,"i",11),a(5," HR ERP "),n()(),i(6,"ul",12),s(7,J,4,0,"li",13),r(8,"async"),s(9,K,4,0,"li",13),r(10,"async"),r(11,"async"),r(12,"async"),s(13,Q,4,0,"li",13),r(14,"async"),s(15,X,4,0,"li",13),r(16,"async"),s(17,Y,4,0,"li",13),r(18,"async"),s(19,Z,4,0,"li",13),r(20,"async"),s(21,q,4,0,"li",13),r(22,"async"),s(23,ee,4,2,"li",13),r(24,"async"),n(),i(25,"div",14)(26,"ul",15)(27,"li",16)(28,"a",17),l(29,"i",18),a(30," Profile "),n()()(),i(31,"div",19)(32,"div",20),l(33,"i",21),i(34,"span",22),a(35),r(36,"async"),n()(),i(37,"button",23),w("click",function(){k(t);let f=u();return A(f.logout())}),l(38,"i",24),a(39," Logout "),n()()()(),L()}if(e&2){let t=u();o(7),c("ngIf",p(8,9,t.role$)==="Admin"),o(2),c("ngIf",p(10,11,t.role$)==="Admin"||p(11,13,t.role$)==="HR"||p(12,15,t.role$)==="Employee"),o(4),c("ngIf",p(14,17,t.role$)==="HR"),o(2),c("ngIf",p(16,19,t.role$)==="HR"),o(2),c("ngIf",p(18,21,t.role$)==="ProjectManager"),o(2),c("ngIf",p(20,23,t.role$)==="ProjectManager"),o(2),c("ngIf",p(22,25,t.role$)==="ProjectManager"),o(2),c("ngIf",p(24,27,t.role$)==="Employee"),o(12),_(p(36,29,t.role$))}}function ie(e,m){if(e&1&&(i(0,"span",35),a(1),n()),e&2){let t=m.ngIf;o(),_(t)}}var D=(()=>{class e{constructor(t,d){this.auth=t,this.router=d,this.title="hr-erp",this.isLoggedIn$=this.auth.isLoggedIn(),this.role$=this.auth.getRole(),this.userId=this.auth.getUserId()}logout(){this.auth.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(d){return new(d||e)(x(h),x(g))}}static{this.\u0275cmp=b({type:e,selectors:[["app-root"]],standalone:!0,features:[T],decls:13,vars:11,consts:[[1,"d-flex","min-vh-100"],[4,"ngIf"],[1,"flex-grow-1","bg-light","d-flex","flex-column"],[1,"navbar","navbar-light","bg-white","shadow-sm","px-4","py-2",2,"min-height","56px"],[1,"container-fluid","justify-content-end"],[1,"navbar-text","fw-semibold","text-secondary"],["class","badge bg-primary ms-2",4,"ngIf"],[1,"container","flex-grow-1","d-flex","flex-column","justify-content-center","align-items-center",3,"ngClass"],[1,"sidebar","bg-white","shadow-sm","d-flex","flex-column","align-items-center","py-4","px-2",2,"width","220px","min-width","220px"],[1,"mb-4"],["href","#",1,"navbar-brand","fs-4","fw-bold","text-primary","d-flex","align-items-center"],[1,"fas","fa-cubes","me-2"],[1,"nav","flex-column","w-100"],["class","nav-item mb-2",4,"ngIf"],[1,"mt-auto","w-100"],[1,"nav","flex-column","w-100","mb-2"],[1,"nav-item"],["routerLink","/profile","routerLinkActive","active",1,"nav-link","d-flex","align-items-center"],[1,"fas","fa-user","me-2"],[1,"border-top","pt-3"],[1,"d-flex","align-items-center"],[1,"fas","fa-user-circle","fa-lg","me-2","text-secondary"],[1,"fw-semibold"],[1,"btn","btn-outline-secondary","btn-sm","w-100","mt-3",3,"click"],[1,"fas","fa-sign-out-alt","me-1"],[1,"nav-item","mb-2"],["routerLink","/payroll","routerLinkActive","active",1,"nav-link","d-flex","align-items-center"],[1,"fas","fa-money-check-alt","me-2"],["routerLink","/tasks","routerLinkActive","active",1,"nav-link","d-flex","align-items-center"],[1,"fas","fa-clipboard-list","me-2"],["routerLink","/employee","routerLinkActive","active",1,"nav-link","d-flex","align-items-center"],[1,"fas","fa-users","me-2"],["routerLink","/leave","routerLinkActive","active",1,"nav-link","d-flex","align-items-center"],[1,"fas","fa-calendar-alt","me-2"],["routerLinkActive","active",1,"nav-link","d-flex","align-items-center",3,"routerLink"],[1,"badge","bg-primary","ms-2"]],template:function(d,f){d&1&&(i(0,"div",0),s(1,te,40,31,"ng-container",1),r(2,"async"),i(3,"div",2)(4,"nav",3)(5,"div",4)(6,"span",5),a(7," Welcome to HR ERP "),s(8,ie,2,1,"span",6),r(9,"async"),n()()(),i(10,"div",7),r(11,"async"),l(12,"router-outlet"),n()()()),d&2&&(o(),c("ngIf",p(2,3,f.isLoggedIn$)),o(7),c("ngIf",p(9,5,f.role$)),o(2),c("ngClass",$(9,W,!p(11,7,f.isLoggedIn$))))},dependencies:[M,B,P,R,z,H,F,O],styles:[".sidebar[_ngcontent-%COMP%]{position:sticky;top:0;height:100vh;min-height:100vh;max-height:100vh;width:220px;min-width:220px;max-width:220px;overflow:hidden;flex-shrink:0;box-sizing:border-box;z-index:101}.flex-grow-1[_ngcontent-%COMP%]{overflow-y:auto}"]})}}return e})();function G(e){return()=>{let m=v(h),t=v(g);return m.isLoggedIn().pipe(C(d=>{if(!d)return t.navigate(["/login"]),!1;if(e){let f=!1;if(m.getRole().subscribe(y=>{Array.isArray(e)?f=e.includes(y):f=y===e}),!f)return t.navigate(["/login"]),!1}return!0}))}}var N=[{path:"employee",children:[{path:"",loadComponent:()=>import("./chunk-TSTSZP3F.mjs").then(e=>e.EmployeeListComponent)},{path:"create",loadComponent:()=>import("./chunk-ECE5U7VK.mjs").then(e=>e.EmployeeFormComponent)},{path:"edit/:id",loadComponent:()=>import("./chunk-ECE5U7VK.mjs").then(e=>e.EmployeeFormComponent)},{path:"profile/:id",loadComponent:()=>import("./chunk-KIXLDAD6.mjs").then(e=>e.EmployeeProfileComponent)}]},{path:"leave",loadComponent:()=>import("./chunk-F6I7R4RZ.mjs").then(e=>e.LeaveListComponent)},{path:"payroll",children:[{path:"",loadComponent:()=>import("./chunk-5XMBHKEE.mjs").then(e=>e.PayrollListComponent)},{path:"payslip/:id",loadComponent:()=>import("./chunk-LEZ4P5Z3.mjs").then(e=>e.PayslipComponent)}]},{path:"tasks",loadComponent:()=>import("./chunk-6EHHRH6S.mjs").then(e=>e.TaskListComponent)},{path:"profile",loadComponent:()=>import("./chunk-AZKY4UMT.mjs").then(e=>e.UserProfileComponent),canActivate:[G(["Admin","HR","Employee"])]},{path:"login",loadComponent:()=>import("./chunk-2XBZ5J7B.mjs").then(e=>e.LoginComponent)},{path:"",redirectTo:"employee",pathMatch:"full"},{path:"**",redirectTo:"employee"}];var U={providers:[V(N)]};var ne=()=>j(D,U),Ae=ne;export{Ae as default};
