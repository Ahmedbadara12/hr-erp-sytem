import './polyfills.server.mjs';
import{a as H}from"./chunk-WPGESVMD.mjs";import{a as D}from"./chunk-RZAA7IRB.mjs";import{a as j}from"./chunk-IVIXA3KZ.mjs";import{f as P,g as $,j as A}from"./chunk-ZO3XRBHL.mjs";import"./chunk-QZINOH6A.mjs";import{Fa as s,Ha as m,Ka as i,La as n,Lb as F,Ma as c,Mb as M,Na as h,Nb as O,Oa as x,Pa as v,Pb as T,Qa as S,Ra as d,V as g,Wa as C,Xa as r,Ya as f,ba as b,ca as E,db as I,eb as L,fb as y,hb as k,ib as R,jb as w,sa as l,ta as u}from"./chunk-NYGW72DG.mjs";import"./chunk-HWMLVLB2.mjs";var N=()=>["/employee","create"],V=e=>["/employee","profile",e],B=e=>["/employee","edit",e];function U(e,a){e&1&&(i(0,"a",7),c(1,"i",8),r(2," Add Employee "),n()),e&2&&m("routerLink",L(1,N))}function q(e,a){if(e&1&&(i(0,"a",17),c(1,"i",18),n()),e&2){let t=d().$implicit;m("routerLink",y(1,B,t.id))}}function z(e,a){if(e&1){let t=v();i(0,"button",19),S("click",function(){b(t);let p=d().$implicit,_=d(2);return E(_.deleteEmployee(p.id))}),c(1,"i",20),n()}}function G(e,a){if(e&1&&(i(0,"tr")(1,"td"),r(2),n(),i(3,"td"),r(4),n(),i(5,"td"),r(6),n(),i(7,"td"),r(8),n(),i(9,"td")(10,"a",13),c(11,"i",14),n(),s(12,q,2,3,"a",15)(13,z,2,0,"button",16),n()()),e&2){let t=a.$implicit,o=d(2);l(2),f(t.name),l(2),f(t.email),l(2),f(t.position),l(2),f(t.department),l(2),m("routerLink",y(7,V,t.id)),l(2),m("ngIf",o.role==="HR"),l(),m("ngIf",o.role==="HR")}}function J(e,a){if(e&1&&(h(0),i(1,"table",9)(2,"thead",10)(3,"tr")(4,"th"),r(5,"Name"),n(),i(6,"th"),r(7,"Email"),n(),i(8,"th"),r(9,"Position"),n(),i(10,"th"),r(11,"Department"),n(),i(12,"th",11),r(13,"Actions"),n()()(),i(14,"tbody"),s(15,G,14,9,"tr",12),n()(),x()),e&2){let t=a.ngIf;l(15),m("ngForOf",t)}}function K(e,a){e&1&&c(0,"app-loading-spinner")}var ie=(()=>{class e{constructor(t,o,p){this.employeeService=t,this.auth=o,this.router=p,this.role=null}ngOnInit(){this.auth.getRole().subscribe(t=>{if(this.role=t,t!=="HR"){let o=this.auth.getUserId();this.router.navigate(["/employee/profile",o])}else this.employees$=this.employeeService.getEmployees()})}deleteEmployee(t){this.role==="HR"&&confirm("Are you sure you want to delete this employee?")&&this.employeeService.deleteEmployee(t).subscribe(o=>{o&&(this.employees$=this.employeeService.getEmployees())})}static{this.\u0275fac=function(o){return new(o||e)(u(D),u(H),u(P))}}static{this.\u0275cmp=g({type:e,selectors:[["app-employee-list"]],standalone:!0,features:[I],decls:10,vars:5,consts:[["loading",""],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],["class","btn btn-primary btn-sm",3,"routerLink",4,"ngIf"],[1,"card-body","p-0"],[4,"ngIf","ngIfElse"],[1,"btn","btn-primary","btn-sm",3,"routerLink"],[1,"fas","fa-plus"],[1,"table","table-striped","mb-0"],[1,"table-light"],[2,"width","120px"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-info","me-1",3,"routerLink"],[1,"fas","fa-user"],["class","btn btn-sm btn-warning me-1",3,"routerLink",4,"ngIf"],["class","btn btn-sm btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-warning","me-1",3,"routerLink"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"]],template:function(o,p){if(o&1&&(i(0,"div",1)(1,"div",2)(2,"h5",3),r(3,"Employee List"),n(),s(4,U,3,2,"a",4),n(),i(5,"div",5),s(6,J,16,1,"ng-container",6),k(7,"async"),s(8,K,1,0,"ng-template",null,0,w),n()()),o&2){let _=C(9);l(4),m("ngIf",p.role==="HR"),l(2),m("ngIf",R(7,3,p.employees$))("ngIfElse",_)}},dependencies:[A,$,T,F,M,O,j],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle}"]})}}return e})();export{ie as EmployeeListComponent};
