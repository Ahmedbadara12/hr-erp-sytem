import './polyfills.server.mjs';
import{K as s,f as o}from"./chunk-NYGW72DG.mjs";var n=(()=>{class r{constructor(){this.loggedIn$=new o(this.hasSession()),this.role$=new o(this.getStoredRole())}isBrowser(){return typeof window<"u"&&!!window.localStorage}login(e){if(this.isBrowser()){localStorage.setItem("role",e),localStorage.setItem("loggedIn","true");let t="1";e==="HR"&&(t="2"),e==="Admin"&&(t="3"),e==="ProjectManager"&&(t="4"),localStorage.setItem("userId",t)}this.loggedIn$.next(!0),this.role$.next(e)}logout(){this.isBrowser()&&(localStorage.removeItem("role"),localStorage.removeItem("loggedIn")),this.loggedIn$.next(!1),this.role$.next(null)}getRole(){return this.role$.asObservable()}isLoggedIn(){return this.loggedIn$.asObservable()}getUserId(){if(this.isBrowser()){let e=localStorage.getItem("userId");return e?+e:null}return null}hasSession(){return this.isBrowser()&&localStorage.getItem("loggedIn")==="true"}getStoredRole(){return this.isBrowser()&&localStorage.getItem("role")||null}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{n as a};
